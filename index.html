<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="style.css">
 
</head>
<body>
    <div class="logo">
        <a href="intro copy 5.html">
            <img src="img/logo.png" alt="Logo">
        </a>
    </div>
    <div class="introcontainer">
        <div class="intro">
            <div>
                <span class="title">히</span>
                <span class="title">로</span>
                <span class="title">와</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">함</span>
                <span class="title">께</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">친</span>
                <span class="title">구</span>
                <span class="title">들</span>
                <span class="title">을</span>
            </div>
            <div>
                <span class="title">안</span>
                <span class="title">전</span>
                <span class="title">하</span>
                <span class="title">게</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">지</span>
                <span class="title">켜</span>
                <span class="title">보</span>
                <span class="title">아</span>
                <span class="title">요</span>
                <span class="title">!</span>
            </div>
            
            <a class="scroll-link" href="#content">
                <svg class="mouse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76 130" preserveAspectRatio="xMidYMid meet">
                    <g fill="none" fill-rule="evenodd">
                        <rect width="70" height="118" x="1.5" y="1.5" stroke="#FFF" stroke-width="3" rx="36"/>
                        <circle class="scroll" cx="36.5" cy="31.5" r="4.5" fill="#FFF"/>
                    </g>
                </svg>
            </a>
        </div>
       
    </div>

    <nav>
        <ul>
            <li><a href="#main">Main</a></li>
            <li><a href="#timeline">Synopsis</a></li>
            <li><a href="#sectionpin">Character</a></li>
            <li><a href="#video">Video</a></li>
            <li><a href="#charcter">Character</a></li>
            <li><a href="#gameplayimage">Game Play</a></li>

        </ul>
    </nav>

    <section id="main" class="main">
      <div id="draggable">
        <img src="img/mainimg.png">
    </div>
        <div class="container">
            <h2>MAIN</h2>
        </div>
       
    </section>
     
    <!--
      <section id="synopsis" class="synopsis">
              <div class="container">
                  <div class="image-container">
                      <img src="img/SYNOPSIS.png" alt="Synopsis">
                  </div>
              </div>
          </section>
      -->
    

    <section id="timeline" class="timeline">
        <div class="image-container">
            <img src="img/SYNOPSIS.png" alt="timeline">
        </div>
        <ul>
          <li>
            <div>
              <time>img</time> 히로 저번에 큰일난 거 있지?
            </div>
          </li>
          <li>
            <div>
              <time>img</time> "무슨 일이야?""
            </div>
          </li>
          <li>
            <div>
              <time>img</time> "집에서 씻고 물 묻은 손으로 콘센트를 만질 뻔했어!"
              </div>
          </li>
          <li>
            <div>
              <time>img</time> "헉! 다치진 않았어?"
            </div>
          </li>
          <li>
            <div>
              <time>img</time> "응응 그전에 히로가 가르쳐줘서 만지기 전에는 그만뒀지!"
            </div>
          </li>
          <li>
            <div>
              <time>img</time>"그래도 안 다쳐서 다행이야!"
            </div>
          </li>
         
        </ul>
      </section>
    
    <div class="horizontal">
        <div class="image-container">
            <img src="img/chapterpage.png" alt="Branding">
        </div>
        <section id="sectionPin" class="sectionPin">
            <div class="pin-wrap">
                <img src="img/c.png" alt="">
                <img src="img/c.png" alt="">
                <img src="img/c.png" alt="">
       
            </div>
        </section>

        
        <section id="video" class="video">
          <div class="container">
              <div class="image-container">
                  <img src="img/VIDEO.png" alt="Branding">
              </div>
          </div>
          <div class="video-container">
            <video class="video-player" controls>
                <source src="img/영상1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
      </section>

      <section id="mainpage" class="mainpage">
            <div class="image-container">
                <img src="img/mainpage.png" alt="Branding">
            </div>
    </section>


    <section id="userpage" class="userpage">
      <div class="image-container">
          <img src="img/userpage.png" alt="Branding">
      </div>
</section>

<section id="store" class="store">
  <div class="image-container">
      <img src="img/store.png" alt="Branding">
  </div>
  <div id="result">악세서리를 올려보세요!</div>
  <div class="answer-box">
      <div class="answer a"></div>
      <div class="answer b"></div>
      <div class="answer c"></div>
      <div class="answer d"></div>
  </div>
</section>
     
    </div>
    <section id="gameplayimage" class="gameplayimage"> 
      <div class="image-container">
          <img src="img/BRANDING.png" alt="Branding">
      </div>
      <div class="playimg">
          <img src="img/play.png" alt="Hiro">
      </div>
     
      <h4>흔히 안전한 장소라 인식되는 장소에서, 사실은 안전사고가 굉장히 빈번한다는 사실을 알고 계시나요? 
          어떻게 하면 안전교육을 재밌고 더 쉽게 할수 있을까 고민하는 과정에서 탄생했습니다!</h4>
  </section>
 
    
    
    <section id="branding" class="branding"> 
        <div class="image-container">
            <img src="img/BRANDING.png" alt="Branding">
        </div>
        <div class="brandinglogo">
            <img src="img/HIRO.png" alt="Hiro">
        </div>
       
        <h4>흔히 안전한 장소라 인식되는 장소에서, 사실은 안전사고가 굉장히 빈번한다는 사실을 알고 계시나요? 
            어떻게 하면 안전교육을 재밌고 더 쉽게 할수 있을까 고민하는 과정에서 탄생했습니다!</h4>
    </section>

    <section id="contact" class="contact">
      <div class="contactsolid"></div>
      <div class="orange-rectangle"></div> <!-- Add this div -->
      <div class="white-rectangle"></div>
  </section>
    <footer>
        <div class="footer-container">
            <p>
                <span>Team HIRO</span><br>
                <span>Copyright&copy; 2024 Team HIRO, a student at Kaywon University of Arts. All rights reserved.</span>
            </p>
            <div class="footer-logo">
                <img src="img/logo.png" alt="Footer Logo">
            </div>
        </div>
    </footer>

   

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/locomotive-scroll/dist/locomotive-scroll.min.js"></script>
    
    <script>
        $(document).ready(function(){
            $("a.scroll-link").on('click', function(event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function(){
                        window.location.hash = hash;
                    });
                }
            });
        });
        
        gsap.registerPlugin(ScrollTrigger);
        
        const pageContainer = document.querySelector(".container");
        
        // Locomotive Scroll 초기화
        const scroller = new LocomotiveScroll({
            el: pageContainer,
            smooth: true
        });
        gsap.to(".pin-wrap", {
        scrollTrigger: {
            trigger: "#sectionPin",
            start: "top top",
            end: () => "+=" + document.querySelector(".pin-wrap").scrollWidth - window.innerWidth,
            scrub: true,
            pin: true,
            anticipatePin: 1
        },
        x: -(document.querySelector(".pin-wrap").scrollWidth - window.innerWidth),
        ease: "none"
    });

        scroller.on("scroll", ScrollTrigger.update);
        
        ScrollTrigger.scrollerProxy(pageContainer, {
            scrollTop(value) {
                return arguments.length
                    ? scroller.scrollTo(value, 0, 3000)
                    : scroller.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    left: 0,
                    top: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                };
            },
            pinType: pageContainer.style.transform ? "transform" : "fixed"
        });
        
        window.addEventListener("load", function () {
            let pinWrap = document.querySelector(".pin-wrap");
            let pinWrapWidth = pinWrap.scrollWidth;
            let horizontalScrollLength = pinWrapWidth - window.innerWidth;
        
            // Pinning and horizontal scrolling
            gsap.to(".pin-wrap", {
                scrollTrigger: {
                    scroller: pageContainer, // locomotive-scroll
                    scrub: true,
                    trigger: "#sectionPin",
                    start: "top top",
                    end: () => "+=" + horizontalScrollLength,
                    onLeaveBack: () => scroller.scrollTo(0) // Move to the next section after horizontal scroll ends
                },
                x: -horizontalScrollLength,
                ease: "none"
            });
        
            ScrollTrigger.addEventListener("refresh", () => scroller.update()); // locomotive-scroll
        
            ScrollTrigger.refresh();
        });



        (function () {
  "use strict";

  // define variables
  var items = document.querySelectorAll(".timeline li");

  // check if an element is in viewport
  // http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport
  function isElementInViewport(el) {
    var rect = el.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <=
        (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  }

  function callbackFunc() {
    for (var i = 0; i < items.length; i++) {
      if (isElementInViewport(items[i])) {
        items[i].classList.add("in-view");
      }
    }
  }

  // listen for events
  window.addEventListener("load", callbackFunc);
  window.addEventListener("resize", callbackFunc);
  window.addEventListener("scroll", callbackFunc);
})();

</script>

<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
<script>
    $( () => {
        const $draggable = $("#draggable");
        let isDragging = false;
        let startLeft, startTop;

        function setInitialSize() {
            const windowWidth = $(window).width();
            const windowHeight = $(window).height();
            const initialWidth = windowWidth * 1.5;
            const initialHeight = windowHeight * 1.5;

            $draggable.width(initialWidth);
            $draggable.height(initialHeight);

            // Set initial position to center
            $draggable.css({
                left: (windowWidth - initialWidth) / 2,
                top: (windowHeight - initialHeight) / 0
            });
        }

        $(window).on('resize', setInitialSize);
        setInitialSize();

        $draggable.draggable({
            start: function(event, ui) {
                isDragging = true;
                startLeft = ui.position.left;
                startTop = ui.position.top;
            },
            drag: function(event, ui) {
                if (isDragging) {
                    let left = ui.position.left - startLeft;
                    let top = ui.position.top - startTop;
                    ui.helper.css('transform', `translate(${left}px, ${top}px)`);
                }
            },
            stop: function(event, ui) {
                isDragging = false;
                ui.helper.css('transform', 'translate(0px, 0px)');
            }
        });
    });
</script>

<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
<script>
    $(() => {
        $(".answer").draggable({
            revertDuration: 0 // 드래그된 요소가 되돌아갈 때의 애니메이션 지속시간 설정
        });

        $("#result").droppable({
            accept: ".answer", // 모든 .answer 요소를 droppable로 수락
            drop: function(event, ui) {
                let className = ui.helper.attr("class").split(' ')[1];
                let message;
                if (className === 'c') {
                    message = '정답입니다!';
                } else {
                    message = '틀렸습니다!';
                }
                $(this)
                    .removeClass()
                    .addClass(className)
                    .html(message);

                // 드롭된 요소가 다시 드래그 가능하게 설정
                ui.helper.draggable('option', 'revert', false);
            },
            out: function(event, ui) {
                // 드래그된 요소가 droppable 영역을 벗어났을 때 초기 상태로 돌아감
                $(this)
                    .removeClass()
                    .html('악세서리를 올리세요');
            }
        });
    });
</script>
        
</body>
</html>