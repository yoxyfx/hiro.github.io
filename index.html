<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<!-- 로고 -->
    <div class="logo">
        <a href="index.html">
            <img src="img/logo.png" alt="Logo">
        </a>
    </div>
<!-- 인트로 -->
    <div class="introcontainer">
        <div class="intro">
            <div>
                <span class="title">히</span>
                <span class="title">로</span>
                <span class="title">와</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">함</span>
                <span class="title">께</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">친</span>
                <span class="title">구</span>
                <span class="title">들</span>
                <span class="title">을</span>
            </div>
            <div>
                <span class="title">안</span>
                <span class="title">전</span>
                <span class="title">하</span>
                <span class="title">게</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">지</span>
                <span class="title">켜</span>
                <span class="title">보</span>
                <span class="title">아</span>
                <span class="title">요</span>
                <span class="title">!</span>
            </div>
            <a class="scroll-link" href="#content">
                <svg class="mouse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76 130" preserveAspectRatio="xMidYMid meet">
                    <g fill="none" fill-rule="evenodd">
                        <rect width="70" height="118" x="1.5" y="1.5" stroke="#FFF" stroke-width="3" rx="36"/>
                        <circle class="scroll" cx="36.5" cy="31.5" r="4.5" fill="#FFF"/>
                    </g>
                </svg>
            </a>
        </div>
    </div>
<!--네비게이션-->
    <nav>
        <ul>
            <li><a href="#main">챕터</a></li>
            <li><a href="#timeline">시놉시스</a></li>
            <li><a href="#sectionpin">캐릭터</a></li>
            <li><a href="#video">비디오 </a></li>
            <li><a href="#mainpage">메인페이지</a></li>
            <li><a href="#userpage">유저페이지</a></li>
            <li><a href="#store">스토어</a></li>
            <li><a href="#gameplayimage">게임 플레이</a></li>
            <li><a href="#branding">브랜딩</a></li>
        </ul>
    </nav>
<!--chapter 나중에 3d로 바꿔-->
    <section id="main" class="main">
        <div id="draggable">
          <img src="img/mainimg.png">
      </div>
          <div class="container">
              <h2>MAIN</h2>
          </div>
      </section>
<!--시놉시스-->
<section id="timeline" class="timeline">
    <ul>
        <li>
            <div>
                <span>
                    <img src="img/햄1.gif" alt="히로1">
                </span>
                <img class="text-image" src="img/talk/t1.png" alt="Text 1">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로1.gif" alt="무슨 일이야?">
                <img class="text-image" src="img/talk/t2.png" alt="Text 2">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄2.gif" alt="집에서 씻고 물 묻은 손으로 콘센트를 만질 뻔했어!">
                <img class="text-image" src="img/talk/t3.png" alt="Text 3">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로2.gif" alt="헉! 다치진 않았어?">
                <img class="text-image" src="img/talk/t4.png" alt="Text 4">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄2.gif" alt="응응 그전에 히로가 가르쳐줘서 만지기 전에는 그만뒀지!!">
                <img class="text-image" src="img/talk/t5.png" alt="Text 5">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로3.gif" alt="그래도 안 다쳐서 다행이야!">
                <img class="text-image" src="img/talk/t6.png" alt="Text 6">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄5.gif" alt="그래도 안 다쳐서 다행이야!">
                <img class="text-image" src="img/talk/t7.png" alt="Text 7">
            </div>
        </li>
    </ul>
</section>
 <!--SCROLL-->
 <div class="horizontal"> 
    <section id="sectionPin" class="sectionPin">
        <div class="pin-wrap">
            <div class="image-container">
                <img src="img/character/이루1.png" alt="">
                <img class="gif-overlay" src="img/햄1.gif" alt="">
            </div>
            <div class="image-container">
                <img src="img/character/히로1.png" alt="">
                <img class="gif-overlay" src="img/히로1.gif" alt="">
            </div>
            <div class="image-container">
                <img src="img/c.png" alt="">
                <!-- Add gif overlay for 'c.png' if needed -->
            </div>
        </div>
    </section>
</div>
<!--VIDEO-->
<section id="video" class="video">
    <div class="container">  
    </div>
    <div class="video-container">
      <video class="video-player" controls>
          <source src="img/영상1.mp4" type="video/mp4">
      </video>
  </div>
</section>
<!-- MAINPAGE DESCRIPTION-->
<section id="mainpage" class="mainpage">
    <ul>
        <span>Planning: Seo Yeon-woo, Design: Kyungjin Lee, Programming: Seunghyun Im</span>
      </ul>
        <div class="orangeright">
        </div> 
</section>

<!--USERPAGE-->
<section id="userpage" class="userpage">
    <div class="orangeleft"></div> 
    <div class="whiteright"></div> 
  </section>

<!--STORE-->
<section id="store" class="store">
    <h3>악세서리를 올려보세요</h3>
    <div id="result">악세서리를 올려보세요!</div>
    <div class="answer-box">
      <div class="answer a" style="background-image: url('img/item1.png');"></div>
      <div class="answer b" style="background-image: url('img/item2.png');"></div>
      <div class="answer c" style="background-image: url('img/item3.png');"></div>
      <div class="answer d" style="background-image: url('img/item4.png');"></div>
    </div>
</section>

<!--BRANDING-->
<section id="branding" class="branding"> 
    <img src="img/HIRONON.png" alt="Original Image">
    <h4>흔히 안전한 장소라 인식되는 장소에서, 사실은 안전사고가 굉장히 빈번한다는 사실을 알고 계시나요? 
        어떻게 하면 안전교육을 재밌고 더 쉽게 할 수 있을까 고민하는 과정에서 탄생했습니다!</h4>
</section>

<!--CHART1-->
<section class="backgroundmade">
    <img src="img/chart1.png" alt="Chart 1">
    <img src="img/chart2.png" alt="Chart 2">
    <img src="img/chart3.png" alt="Chart 3">
    <img src="img/chart4.png" alt="Chart 4">
</section>
<!--WHYMADE?-->
<section class="why">
    <div class="image-with-text">
        <img src="img/why1.png" alt="Why 1">
        <div class="text">
            <p>Problem<br>아이들의 한정된 집중도로 인해 오랫동안 게임을 집중해서
                진행하지 못한다는 문제점을 발견하였다.
                증가하고 있는 추세의 아이들의 게임 중독 문제</p>
        </div>
    </div>
</section>
<section class="why" style="background-color: #FFC47F;">
    <div class="image-with-text">
        <div class="text">
            <p>Solution<br>아이들의 집중도 증가를 위한
                학습보상 요소인 상점 시스템 도입
                또한 플레이 할 수 사용자의 캐릭터가 진화할 수 있는 해결책 제시
                
                게임 중독 문제또한 하루에 한 챕터만을 진행 할 수 있도록 제한하여
                아이들의 게임 중독에 대한 방안을 마련하였다</p>
        </div>
        <img src="img/why2.png" alt="Why 2">
    </div>
</section>

<!--CONTACT-->
<section id="contact" class="contact">
    <div class="contactsolid"></div>
    <div class="orange-rectangle"></div> <!-- Add this div -->
    <div class="white-rectangle">
      <ul>
          <span>Planning: Seo Yeon-woo, Design: Kyungjin Lee, Programming: Seunghyun Im</span>
        </ul>
    </div>
    <p>
      <span>CONTACT US</span><br>
      <span>IF YOU LIKED IT!</span>
    </p>
</section>

<!--FOOTER-->
  <footer>
      <div class="footer-container">
          <p>
              <span>Team HIRO</span><br>
              <span>Copyright&copy; 2024 Team HIRO, a student at Kaywon University of Arts. All rights reserved.</span>
          </p>
          <div class="footer-logo">
              <img src="img/logo.png" alt="Footer Logo">
          </div>
      </div>
  </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/locomotive-scroll/dist/locomotive-scroll.min.js"></script>
      <script src="script.js"></script>
      <script>
         /* TIMELINE */
        (function () {
            "use strict";

            // define variables
            var items = document.querySelectorAll(".timeline li");

            // check if an element is in viewport
            function isElementInViewport(el) {
                var rect = el.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                );
            }

            function callbackFunc() {
                for (var i = 0; i < items.length; i++) {
                    if (isElementInViewport(items[i])) {
                        items[i].classList.add("in-view");
                    }
                }
            }

            // listen for events
            window.addEventListener("load", callbackFunc);
            window.addEventListener("resize", callbackFunc);
            window.addEventListener("scroll", callbackFunc);
        })();
    </script>
       <script>
            /* SCROLL */
            $(document).ready(function(){
            $("a.scroll-link").on('click', function(event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function(){
                        window.location.hash = hash;
                    });
                }
            });
        });
        
        gsap.registerPlugin(ScrollTrigger);
        
        const pageContainer = document.querySelector(".container");
        
        // Locomotive Scroll 초기화
        const scroller = new LocomotiveScroll({
            el: pageContainer,
            smooth: true
        });
        gsap.to(".pin-wrap", {
        scrollTrigger: {
            trigger: "#sectionPin",
            start: "top top",
            end: () => "+=" + document.querySelector(".pin-wrap").scrollWidth - window.innerWidth,
            scrub: true,
            pin: true,
            anticipatePin: 1
        },
        x: -(document.querySelector(".pin-wrap").scrollWidth - window.innerWidth),
        ease: "none"
    });

        scroller.on("scroll", ScrollTrigger.update);
        
        ScrollTrigger.scrollerProxy(pageContainer, {
            scrollTop(value) {
                return arguments.length
                    ? scroller.scrollTo(value, 0, 6000)
                    : scroller.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    left: 0,
                    top: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                };
            },
            pinType: pageContainer.style.transform ? "transform" : "fixed"
        });
        
        window.addEventListener("load", function () {
            let pinWrap = document.querySelector(".pin-wrap");
            let pinWrapWidth = pinWrap.scrollWidth;
            let horizontalScrollLength = pinWrapWidth - window.innerWidth;
        
            // Pinning and horizontal scrolling
            gsap.to(".pin-wrap", {
                scrollTrigger: {
                    scroller: pageContainer, // locomotive-scroll
                    scrub: true,
                    trigger: "#sectionPin",
                    start: "top top",
                    end: () => "+=" + horizontalScrollLength,
                    onLeaveBack: () => scroller.scrollTo(0) // Move to the next section after horizontal scroll ends
                },
                x: -horizontalScrollLength,
                ease: "none"
            });
        
            ScrollTrigger.addEventListener("refresh", () => scroller.update()); // locomotive-scroll
        
            ScrollTrigger.refresh();
        });
       </script>

       <!-- STORE-->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
<script>
  $(() => {
    $(".answer").draggable({
      revertDuration: 0 // 드래그된 요소가 되돌아갈 때의 애니메이션 지속시간 설정
    });

    $("#result").droppable({
      accept: ".answer", // 모든 .answer 요소를 droppable로 수락
      drop: function(event, ui) {
        let className = ui.helper.attr("class").split(' ')[1];
        let message;
        let bgImage;

        switch (className) {
          case 'a':
            bgImage = 'url("img/bg1.png")';
            message = '악세서리!';
            break;
          case 'b':
          bgImage = 'url("img/bg2.png")';
            message = '악세서리!';
            break;
          case 'c':
          bgImage = 'url("img/bg3.png")';
            message = '옷입니다!';
            break;
          case 'd':
          bgImage = 'url("img/bg4.png")';
            message = '악세서리!';
            break;
          default:
          bgImage = 'url("img/bg.png")';
            message = '악세서리를 올리세요!';
        }

        $(this)
          .css('background-image', bgImage)
          .html(message);

        // 드롭된 요소가 다시 드래그 가능하게 설정
        ui.helper.draggable('option', 'revert', false);
      },
      out: function(event, ui) {
        // 드래그된 요소가 droppable 영역을 벗어났을 때 초기 상태로 돌아감
        $(this)
          .css('background-image', 'none')
          .html('악세서리를 올리세요');
      }
    });
  }); 
</script>

</body>
</html>