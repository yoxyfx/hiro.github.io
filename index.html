<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<!-- 로고 -->
    <div class="logo">
        <a href="index.html">
            <img src="img/HIROOFF.png" alt="Logo">
        </a>
    </div>
<!-- 인트로 -->
    <div class="introcontainer">
        <div class="intro">
            <div>
                <span class="title">히</span>
                <span class="title">로</span>
                <span class="title">와</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"> </span>
                <span class="title">함</span>
                <span class="title">께</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">친</span>
                <span class="title">구</span>
                <span class="title">들</span>
                <span class="title">을</span>
            </div>
            <div>
                <span class="title">안</span>
                <span class="title">전</span>
                <span class="title">하</span>
                <span class="title">게</span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title"></span>
                <span class="title">지</span>
                <span class="title">켜</span>
                <span class="title">보</span>
                <span class="title">아</span>
                <span class="title">요</span>
                <span class="title">!</span>
            </div>
            <a class="scroll-link" href="#content">
                <svg class="mouse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76 130" preserveAspectRatio="xMidYMid meet">
                    <g fill="none" fill-rule="evenodd">
                        <rect width="70" height="118" x="1.5" y="1.5" stroke="#FFF" stroke-width="3" rx="36"/>
                        <circle class="scroll" cx="36.5" cy="31.5" r="4.5" fill="#FFF"/>
                    </g>
                </svg>
            </a>
        </div>
    </div>
<!--네비게이션-->
    <nav>
        <ul>
            <li><a href="#main">챕터</a></li>
            <li><a href="#timeline">시놉시스</a></li>
            <li><a href="#sectionPin">캐릭터</a></li>
            <li><a href="#video">비디오 </a></li>
            <li><a href="#store">스토어</a></li>
            <li><a href="#store">게임 플레이</a></li>
            <li><a href="#branding">브랜딩</a></li>
            <li><a href="#userpersona">페르소나</a></li>
            <li><a href="#design">디자인</a></li>
        </ul>
    </nav>
<!--chapter 나중에 3d로 바꿔-->

    <section id="main" class="main">
        <div class="chapter">
            <img src="img/mainbackground.gif">
        </div>
    </section>

   
<!--시놉시스-->
<section id="timeline" class="timeline">
    <ul>
        <li>
            <div>
                <span>
                    <img src="img/햄1.gif" alt="히로1">
                </span>
                <img class="text-image" src="img/talk/t1.png" alt="Text 1">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로1.gif" alt="무슨 일이야?">
                <img class="text-image" src="img/talk/t2.png" alt="Text 2">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄2.gif" alt="집에서 씻고 물 묻은 손으로 콘센트를 만질 뻔했어!">
                <img class="text-image" src="img/talk/t3.png" alt="Text 3">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로2.gif" alt="헉! 다치진 않았어?">
                <img class="text-image" src="img/talk/t4.png" alt="Text 4">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄2.gif" alt="응응 그전에 히로가 가르쳐줘서 만지기 전에는 그만뒀지!!">
                <img class="text-image" src="img/talk/t5.png" alt="Text 5">
            </div>
        </li>
        <li>
            <div>
                <img src="img/히로3.gif" alt="그래도 안 다쳐서 다행이야!">
                <img class="text-image" src="img/talk/t6.png" alt="Text 6">
            </div>
        </li>
        <li>
            <div>
                <img src="img/햄5.gif" alt="그래도 안 다쳐서 다행이야!">
                <img class="text-image" src="img/talk/t7.png" alt="Text 7">
            </div>
        </li>
    </ul>
</section>
 <!--SCROLL-->
 
    <section id="sectionPin" class="sectionPin">
        <div class="pin-wrap">
            <div class="image-container">
                <img src="img/character/이루1.png" alt="">
                <img class="gif-overlay" src="img/햄1.gif" alt="">
            </div>
            <div class="image-container">
                <img src="img/character/히로1.png" alt="">
                <img class="gif-overlay" src="img/히로1.gif" alt="">
            </div>
        </div>
    </section>
</div>
<!--VIDEO-->
<section id="video" class="video">
    <div class="container">  
    </div>
    <div class="video-container">
      <video class="video-player" controls>
          <source src="img/영상1.mp4" type="video/mp4">
      </video>
  </div>
</section>
<!-- MAINPAGE DESCRIPTION-->
 <!--
<section id="mainpage" class="mainpage">
        <div class="orangeright">
        </div> 
</section>

 -->

<!--USERPAGE-->
<!--
<section id="userpage" class="userpage">
    <div class="orangeleft"></div> 
    <div class="whiteright"></div> 
  </section>


<!-STORE-->

    <section id="sectionPinNew" class="sectionPinNew">
        <div class="slider">
            <div class="slides">
                <div class="slide"><img src="img/gameplay1.png" alt="Image 1"></div>
                <div class="slide"><img src="img/gameplay2.png" alt="Image 2"></div>
                <div class="slide"><img src="img/gameplay3.png" alt="Image 3"></div>
            </div>
        </div>
    </section>


<section id="store" class="store">
    <div class="putitem">
        <img id="mainImage" src="img/base.png" alt="Store Item">
        
    <div class="clickable-area top-left" onclick="changeImage('img/outfit1.png')"></div>
    <div class="clickable-area top-center" onclick="changeImage('img/outfit2.png')"></div>
    <div class="clickable-area top-right" onclick="changeImage('img/outfit3.png')"></div>
    <div class="clickable-area bottom-left" onclick="changeImage('img/outfit4.png')"></div>
    </div>

    <div class="puton">
        <img src="img/옷을 클릭하여 히로에게 옷을 입혀주세요!.png" alt="Instruction">
    </div>

</section>

<!--BRANDING-->
<section id="branding" class="branding"> 
    <img src="img/HIROOFF.png" alt="Original Image">
    <h4>흔히 안전한 장소라 인식되는 장소에서, 사실은 안전사고가 굉장히 빈번한다는 사실을 알고 계시나요? 
        <br>어떻게 하면 안전교육을 재밌고 더 쉽게 할 수 있을까 고민하는 과정에서 탄생했습니다!</h4>
</section>

<!--CHARTINTRO-->
<section class="chartintro">
    <img src="img/chartintro.png">
  </section>
  <section class="background">
    <img src="img/background (2).png">
  </section>
<!--CHART1-->
<section class="backgroundmade">
    <img src="img/chart1 (2).png" alt="Chart 1">
   
</section>
<!--WHYMADE?-->

<section class="why" style="background-color: #FFC47F;">
    <img src="img/ps.png">
</section>

<section id="userpersona" class="userpersona" style="background-color: #FFC47F;">
    <div class="persona">
        <img src="img/persona.png">
    </div>
    <div class="personab" style="background-color: #FFC47F;">
        <img src="img/persona1b.png">
    </div>
</section>
<section class="hirophone">
   
    <div class="hirophone">
        <img src="img/hirophone.png">
    </div>
</section>

<section id="design" class="design">
   
    <div class="design">
        <img src="img/design.png">
    </div>
</section>
<!--CONTACT-->
<section id="contact" class="contact">
    <div class="contactsolid"></div>
    <div class="orange-rectangle"></div> <!-- Add this div -->
    <div class="white-rectangle">
      <ul>
          <span>Planning: Seo Yeon-woo, Design: Kyungjin Lee, Programming: Seunghyun Im</span>
        </ul>
    </div>
    
</section>

<!--FOOTER-->
  <footer>
      <div class="footer-container">
          <p>
              <span>Team HIRO</span><br>
              <span>Copyright&copy; 2024 Team HIRO, a student at Kaywon University of Arts. All rights reserved.</span>
          </p>
          <div class="footer-logo">
              <img src="img/HIROON.png" alt="Footer Logo">
          </div>
      </div>
  </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/locomotive-scroll/dist/locomotive-scroll.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>
      <script src="script.js"></script>
      <script>
         /* TIMELINE */
        (function () {
            "use strict";

            // define variables
            var items = document.querySelectorAll(".timeline li");

            // check if an element is in viewport
            function isElementInViewport(el) {
                var rect = el.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                );
            }

            function callbackFunc() {
                for (var i = 0; i < items.length; i++) {
                    if (isElementInViewport(items[i])) {
                        items[i].classList.add("in-view");
                    }
                }
            }

            // listen for events
            window.addEventListener("load", callbackFunc);
            window.addEventListener("resize", callbackFunc);
            window.addEventListener("scroll", callbackFunc);
        })();
    </script>






<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>
<script>
    $( () => {
        let isDragging = false;

        // Initialize draggable on section.main
        $( ".chapter" ).draggable({
            axis: "x", // Only drag horizontally
            containment: "parent",
            cursor: "move",
            start: function() {
                isDragging = true;
                $( this ).removeClass('hovered'); // Remove hover effect when dragging starts
            },
            stop: function() {
                isDragging = false;
                if ($( this ).hasClass('hovered')) {
                    $( this ).removeClass('hovered'); // Ensure hover effect is removed if it persists after dragging
                }
            }
        });

        // Hover effect handling
        $( ".chapter" ).hover(
            function() {
                if (!isDragging) {
                    $( this ).addClass('hovered'); // Add class for hover effect if not dragging
                }
            },
            function() {
                if (!isDragging) {
                    $( this ).removeClass('hovered'); // Remove class if not dragging
                }
            }
        );
    });
</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {
    // Function to check if an element is in viewport
    function isElementInViewport(el) {
        var rect = el.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    // Function to play or pause gif based on visibility
    function toggleGifPlay() {
        var gif = $(".chapter img")[0]; // Selecting the first img element within .chapter
        if (isElementInViewport(gif)) {
            var isHovered = $(".chapter").hasClass('hovered');
            if (!isHovered) {
                $(".chapter").addClass('hovered');
                gif.src = gif.src; // Resetting gif by changing its src
            }
        } else {
            $(".chapter").removeClass('hovered');
        }
    }

    // Initial check on page load
    toggleGifPlay();

    // Check on scroll
    $(window).scroll(function() {
        toggleGifPlay();
    });
});

</script>

       <script>
            /* SCROLL */
            $(document).ready(function(){
            $("a.scroll-link").on('click', function(event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function(){
                        window.location.hash = hash;
                    });
                }
            });
        });
        
        gsap.registerPlugin(ScrollTrigger);
        
        const pageContainer = document.querySelector(".container");
        
        // Locomotive Scroll 초기화
        const scroller = new LocomotiveScroll({
            el: pageContainer,
            smooth: true
        });
        gsap.to(".pin-wrap", {
        scrollTrigger: {
            trigger: "#sectionPin",
            start: "top top",
            end: () => "+=" + document.querySelector(".pin-wrap").scrollWidth - window.innerWidth,
            scrub: true,
            pin: true,
            anticipatePin: 1
        },
        x: -(document.querySelector(".pin-wrap").scrollWidth - window.innerWidth),
        ease: "none"
    });

        scroller.on("scroll", ScrollTrigger.update);
        
        ScrollTrigger.scrollerProxy(pageContainer, {
            scrollTop(value) {
                return arguments.length
                    ? scroller.scrollTo(value, 0, 3000)
                    : scroller.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    left: 0,
                    top: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                };
            },
            pinType: pageContainer.style.transform ? "transform" : "fixed"
        });
        
        window.addEventListener("load", function () {
            let pinWrap = document.querySelector(".pin-wrap");
            let pinWrapWidth = pinWrap.scrollWidth;
            let horizontalScrollLength = pinWrapWidth - window.innerWidth;
        
            // Pinning and horizontal scrolling
            gsap.to(".pin-wrap", {
                scrollTrigger: {
                    scroller: pageContainer, // locomotive-scroll
                    scrub: true,
                    trigger: "#sectionPin",
                    start: "top top",
                    end: () => "+=" + horizontalScrollLength,
                    onLeaveBack: () => scroller.scrollTo(0) // Move to the next section after horizontal scroll ends
                },
                x: -horizontalScrollLength,
                ease: "none"
            });
        
            ScrollTrigger.addEventListener("refresh", () => scroller.update()); // locomotive-scroll
        
            ScrollTrigger.refresh();
        });
       </script>
  




       <!-- STORE-->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
<script>
    function changeImage(src) {
        document.getElementById('mainImage').src = src;
    }
</script>


</body>
</html>